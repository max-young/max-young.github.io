---
layout: post
title: "React用法"
date: 2022-10-26
categories: Frontend
tags:
  - React
---

##### 组件加载后就跳转 & useEffect 里 async function

```js
import { useNavigate } from "react-router-dom";

function SSO() {
  const navigate = useNavigate();
  const { user, setUser } = useState();

  useEffect(() => {
    async function fetchData() {
      const response = await fetchAuthInfo(token);
      setUser(response.user);
      navigate(reponse.next_url);
    }
    fetchData();
  });
}
```

#### React Router

##### 如何获取 url request args

```js
import { useSearchParams } from "react-router-dom";

const [searchParams] = useSearchParams();
const [carId] = useState(searchParams.get("car_id"));
```
