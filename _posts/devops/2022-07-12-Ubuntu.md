---
layout:     post
title:      "Ubuntu"
subtitle:   ""
date:       2022-07-12
categories: Linux
tags:
    - Ubuntu
---

环境: Ubuntu 18.04.6 LTS

##### terminal自动补全忽略大小写

在`/etc/inputrc`最后加上:  
`set completion-ignore-case on`

##### 外接显示器问题

- 笔记本外接显示器, 显示器只能显示设置镜像, 而且黑屏, 只显示鼠标
  驱动问题, 解决办法参照: <https://blog.csdn.net/Lu_gl/article/details/118499475>  
  ```shell
  $ sudo apt-get update
  $ sudo apt-get upgrade
  $ ubuntu-drivers devices
  $ sudo ubuntu-drivers autoinstall
  ```
- 合上笔记本之后, 外接显示器操作卡顿, 例如鼠标操作反应慢
  还是驱动问题, 显卡驱动版本不对. 打开software & update -> Additional Drivers  
  选择如下图所示的驱动:  
  <img src="images/posts/gpu_driver.png">

##### 截屏

截取整个屏幕: `PrintScreen`  
自定义截取: `shift + PrintScreen`

##### Terminal增强

terminal(bash)显示git分支和状态, 在`~/.bashrc`修改为:
```shell
# if [ "$color_prompt" = yes ]; then
#     PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
# else
#     PS1='${debian_chroot:+($debian_chroot)}\u@\h:\w\$ '
# fi

function parse_git_dirty() {
    local git_diff=$(git status 2>/dev/null | head -n4)
    if [[ "$git_diff" != "" ]]; then
        echo "✗"
    fi
}

parse_git_branch() {
    git symbolic-ref --short -q HEAD 2>/dev/null
}

if [ "$color_prompt" = yes ]; then
    PS1='$ \W git:(\[\033[01;31m\]$(parse_git_branch)\[\033[00m\]) $(parse_git_dirty) '
else
    PS1='$ {debian_chroot:+($debian_chroot)}\u@\h:\w$(parse_git_branch)\$ '
fi

unset color_prompt force_color_prompt
```
